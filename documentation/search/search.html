<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Shopizer search | Shopizer Technical Documentation</title>
    <meta name="description" content="Just playing around.">
    <link rel="stylesheet" href="/assets/style.7f629115.css">
    <link rel="modulepreload" href="/assets/Home.6774b727.js">
    <link rel="modulepreload" href="/assets/AlgoliaSearchBox.fcdd4a2a.js">
    <link rel="modulepreload" href="/assets/app.e4fe013f.js">
    <link rel="modulepreload" href="/assets/documentation_search_search.md.7893ec44.lean.js">
    <link rel="modulepreload" href="/assets/app.e4fe013f.js">
    <link rel="icon" type="image/png" href="/shopizer-cart.png">
    <meta name="twitter:title" content="Shopizer search | Shopizer Technical Documentation">
    <meta property="og:title" content="Shopizer search | Shopizer Technical Documentation">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Shopizer Technical Documentation, back to home" data-v-675d8756 data-v-4a583abe><img class="logo" src="/shopizer-cart.png" alt="Logo" data-v-4a583abe> Shopizer Technical Documentation</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><!----></div><!--[--><!--[--><div class="algolia-search-box" id="docsearch"></div><!--]--><!--]--></header><aside class="sidebar" data-v-83e92a68><!----><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Getting started</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/whatisshopizer/default">What is Shopizer</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/architecture/Current">Shopizer architecture</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/init/Current">Beginning with Shopizer</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/buildandrunlocally/Current">Build and run locally</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/documentation/default">Technical documentation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/documentation/videotutorials">Video tutorials</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/docker/default">Run Shopizer from Docker image</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/docker/compose">Run using Docker Compose</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/cloud/default">Run in the cloud</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/contribute/default">Contribute to Shopizer</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Shopizer Configuration</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/documentation/configuration/default">Configuration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/documentation/database/default">Database</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/documentation/search/cloud">Local configuration of ElasticSearch</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/documentation/search/search">Elastic Cloud configuration</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#shopizer-search">Shopizer search</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#requirements">Requirements</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#configure-elasticsearch">Configure ElasticSearch</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#run-elasticsearch">Run ElasticSearch</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#local-elasticsearch">Local ElasticSearch</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#docker-based-elasticsearch">Docker based ElasticSearch</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#shopizer-analytics-using-elasicsearch">Shopizer analytics using ElasicSearch</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#requirements-for-using-order-analytics-in-elasticsearch">Requirements for using order analytics in ElasticSearch</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#kibana-configurations">Kibana configurations</a><!----></li></ul></li></ul></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Commerce software</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/software/users/users">Administration of users</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/software/vendors/vendors">Merchants and stores administration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Catalog management</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Shopping cart functions</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Ordering functions</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Customer functions</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/software/translation">Shopizer translation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Rules system</a><!----></li><li class="sidebar-link"><p class="sidebar-link-item">Rules system</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">What are modules</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Shipping module</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/documentation/modules/payment">Payment module</a><!----></li></ul></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Database schema</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/schema/country/default">Country and Zones reference data</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">REST api</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/notavailable">Swagger documentation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/notavailable">Creating new REST services</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/notavailable">Handling REST errors</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Shopizer security</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Admin authentication</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Customer authentication</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">REST api authentication</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Shopizer metrics</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Configure analytics</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Discover Shopizer e-commerce data</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Monolith deploy</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Deploy Shopizer on premise</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Deploy Shopizer on AWS</a><!----></li><li class="sidebar-link"><p class="sidebar-link-item">Deploy Shopizer on various clouds</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Catalog service</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">AWS Lightsail simple deployment</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">AWS Lightsail with node - Angular admin - Shopizer backend</a><!----></li></ul></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Microservices deploy</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Catalog service</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">User service</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Shipping service</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Common module</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/markdown/notavailable">Payment service</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h2 id="shopizer-search" tabindex="-1">Shopizer search <a class="header-anchor" href="#shopizer-search" aria-hidden="true">#</a></h2><p>ElasticSearch is the software used for indexing and searching items in Shopizer. Search autocomplete and items search are functionality available from shopping jsp templates and from Shopizer REST api.</p><p>Shopizer has been tested with latest ElasticSearch 7.X version</p><h2 id="requirements" tabindex="-1">Requirements <a class="header-anchor" href="#requirements" aria-hidden="true">#</a></h2><ul><li>Elastic search 7.X binaries or docker image</li></ul><h2 id="configure-elasticsearch" tabindex="-1">Configure ElasticSearch <a class="header-anchor" href="#configure-elasticsearch" aria-hidden="true">#</a></h2><p>ElasticSearch requires a cluser name allowing all nodes from that same cluster to connect and share information. Shopizer is configured by default to connect to an existing ElasticSearch cluster having cluster name shopizer.</p><p>One of these options are required to connect Shopizer to an ElastciSearch cluster</p><h3> Create an elastic search cluster having cluster name shopizer </h3><p>Edit /config/elasticsearch.yml</p><p>Configure shopizer cluster name</p><div class="language-sh"><pre><code># ---------------------------------- Cluster -----------------------------------
#
# Use a descriptive name for your cluster:
#
cluster.name: shopizer
#
</code></pre></div><h3> Configure Shiopizer to connect with your own cluster name </h3><p>Edit /sm-core/src/main/resources//shopizer-core.properties</p><div class="language-sh"><pre><code>#Elastic Search configurations
elasticsearch.cluster.name=your-cluster
</code></pre></div><p>Change the name to the the name of the cluster you have configured in elasticsearch</p><h2 id="run-elasticsearch" tabindex="-1">Run ElasticSearch <a class="header-anchor" href="#run-elasticsearch" aria-hidden="true">#</a></h2><h3 id="local-elasticsearch" tabindex="-1">Local ElasticSearch <a class="header-anchor" href="#local-elasticsearch" aria-hidden="true">#</a></h3><p>ElasticSearch is a Java based application and can be started from a simple command line. ElastciSearch version 7.X requires Java 8</p><p>On a local installation start ElasticSearch with this command</p><div class="language-sh"><pre><code>cd elasticsearch/bin
./elasticsearch
</code></pre></div><h3 id="docker-based-elasticsearch" tabindex="-1">Docker based ElasticSearch <a class="header-anchor" href="#docker-based-elasticsearch" aria-hidden="true">#</a></h3><p>Easiest way to have ElasticSearch running is by runing it from a Docker image</p><div class="language-sh"><pre><code>docker pull docker.elastic.co/elasticsearch/elasticsearch:7.5.2

docker run -p 9200:9200 -p 9300:9300 \
-e &quot;discovery.type=single-node&quot; \
-e &quot;cluster.name=shopizer&quot; \
docker.elastic.co/elasticsearch/elasticsearch:7.5.2
</code></pre></div><p>More details here <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html" target="_blank" rel="noopener noreferrer">Install ElasticSearch with Docker</a></p><h2 id="shopizer-analytics-using-elasicsearch" tabindex="-1">Shopizer analytics using ElasicSearch <a class="header-anchor" href="#shopizer-analytics-using-elasicsearch" aria-hidden="true">#</a></h2><p>Shopizer uses powerfull indexing and searching technology of ElasticSearch for extracting analytics information from orders. This functionality is an option and this configuration is not required to run Shopizer search functionality. Shopizer&#39;s functionality for saving orders to ElasticSearch is included without any modifications to the code.</p><h3 id="requirements-for-using-order-analytics-in-elasticsearch" tabindex="-1">Requirements for using order analytics in ElasticSearch <a class="header-anchor" href="#requirements-for-using-order-analytics-in-elasticsearch" aria-hidden="true">#</a></h3><ul><li>Have Kibana installed or have a running Kibana Docker image connected to ElasticSearch defined cluster above</li></ul><h3 id="kibana-configurations" tabindex="-1">Kibana configurations <a class="header-anchor" href="#kibana-configurations" aria-hidden="true">#</a></h3><p>Once Kibana is running and connected to ElasticSearch cluster configure a new settings for orders index</p><div class="language-sh"><pre><code>PUT /_ingest/pipeline/timestamp
{
	&quot;description&quot;: &quot;Creates a timestamp when a document is initially indexed&quot;,
	&quot;processors&quot;: [{
		&quot;set&quot;: {
			&quot;field&quot;: &quot;_source.timestamp&quot;,
			&quot;value&quot;: &quot;{{_ingest.timestamp}}&quot;
		}
	}]
}

PUT _template/orders
{
  &quot;index_patterns&quot;: [&quot;orders-*&quot;],
  &quot;settings&quot;: {
    &quot;index.default_pipeline&quot;: &quot;timestamp&quot;
  }
}

PUT _template/carts
{
  &quot;index_patterns&quot;: [&quot;carts-*&quot;],
  &quot;settings&quot;: {
    &quot;index.default_pipeline&quot;: &quot;timestamp&quot;
  }
}
</code></pre></div><p>Once a few orders are created from Shopizer, open Kibana and explore histograms of your orders</p></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><!----></div></div><div class="updated" data-v-fb8d84c6><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/documentation/search/cloud" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>Local configuration of ElasticSearch</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/software/users/users" data-v-38ede35f><span class="text" data-v-38ede35f>Administration of users</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"api_overview.md\":\"cdb0c9cc\",\"architecture_current.md\":\"f3ae1aff\",\"buildandrunlocally_current.md\":\"7e28e7ea\",\"cloud_default.md\":\"762cffa2\",\"cloud_lightsail-admin-backend.md\":\"5cb4526b\",\"cloud_lightsail-npm.md\":\"ce8b2419\",\"cloud_lightsail-simple.md\":\"e67d7b11\",\"contribute_default.md\":\"5a8540f4\",\"default.md\":\"3e05cf28\",\"docker-local_default.md\":\"68df9917\",\"docker_compose.md\":\"775b33c6\",\"docker_default.md\":\"3953450d\",\"documentation_configuration_default.md\":\"32e1f1f9\",\"documentation_configurations_default.md\":\"621fcf7f\",\"documentation_content_default.md\":\"48373ac1\",\"documentation_database_default.md\":\"0cb3933a\",\"documentation_default.md\":\"4c30a536\",\"documentation_emails_default.md\":\"75474d71\",\"documentation_modules_payment.md\":\"9fc56b29\",\"documentation_search_cloud.md\":\"31d550a2\",\"documentation_search_search.md\":\"7893ec44\",\"documentation_swagger_current.md\":\"6c4b4e56\",\"documentation_videotutorials.md\":\"78284484\",\"index.md\":\"de5cd81e\",\"init_current.md\":\"a5f1ce7b\",\"metrics_analytics.md\":\"647c738b\",\"metrics_discover.md\":\"6becadd6\",\"notavailable.md\":\"6422d798\",\"process_introduction.md\":\"5b5c6e63\",\"process_newpageshowto.md\":\"f6ea7aeb\",\"schema_country_default.md\":\"c1053b91\",\"software_translation.md\":\"b2ef0667\",\"software_users_users.md\":\"b6888236\",\"software_vendors_vendors.md\":\"4b687250\",\"whatisshopizer_default.md\":\"3a227d77\"}")</script>
    <script type="module" async src="/assets/app.e4fe013f.js"></script>
    
  </body>
</html>